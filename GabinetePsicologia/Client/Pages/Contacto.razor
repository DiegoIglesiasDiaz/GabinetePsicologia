@page "/Contacto"
@using System.Net.Mail
@using System.Net
<PageTitle>Contacto</PageTitle>
<style>
		body {
			background-color: #f0f8ff;
			font-family: Arial, sans-serif;
			color: #333;
		}

		.container {
			max-width: 1200px;
			margin: 0 auto;
			padding: 20px;
			display: flex;
			flex-wrap: wrap;
			justify-content: space-around;
			align-items: center;
		}

		.contact-info {
			max-width: 500px;
			margin-right: 20px;
			background-color: #fff;
			border-radius: 10px;
			box-shadow: 0px 0px 10px rgba(0,0,0,0.2);
			padding: 20px;
			text-align: center;
		}

		h1 {
			margin-top: 0;
		}

		iframe {
			width: 100%;
			height: 400px;
			border: none;
			margin-top: 20px;
		}

		form {
			max-width: 400px;
			margin-top: 20px;
			background-color: #fff;
			border-radius: 10px;
			box-shadow: 0px 0px 10px rgba(0,0,0,0.2);
			padding: 20px;
		}

		label {
			display: block;
			margin-bottom: 6px;
		}

		input[type=text], input[type=email], textarea {
			width: 100%;
			padding: 12px;
			border: 1px solid #ccc;
			border-radius: 4px;
			box-sizing: border-box;
			margin-top: 6px;
			margin-bottom: 16px;
			resize: vertical;
		}

		input[type=submit] {
			background-color: #008CBA;
			color: #fff;
			padding: 12px 20px;
			border: none;
			border-radius: 4px;
			cursor: pointer;
			font-size: 16px;
			font-weight: bold;
			text-transform: uppercase;
			transition: background-color 0.2s;
		}

		input[type=submit]:hover {
			background-color: #00688B;
		}
		.map{
			width: 100%;
    padding-top: 28px;
		}
		
		
	</style>

<Page Title="Contacto">
    <div class="container">
		<div class="contact-info">
			<h1>Contacto</h1>
			<p>Por favor, contáctanos si tienes preguntas o quieres programar una cita.</p>
			<p>También puedes visitarnos en nuestra ubicación:</p>
			<p>Calle 123, Ciudad de México</p>
			<p>Teléfono: (55) 1234 5678</p>
			<p>Correo electrónico: info@clinicadepsicologia.com</p>
		</div>
		<div class="contact-form">
			
			<form method="post" action="enviar.php">
				<label for="name">Nombre:</label>
				<input type="text" id="name" name="name" required>
				<label for="email">Correo electrónico:</label>
				<input type="email" id="email" name="email" required>

				<label for="message">Mensaje:</label>
				<textarea id="message" name="message" required></textarea>

				<input type="submit" value="Enviar">
			</form>
		</div>
		<div class="map">
			<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3762.101475677746!2d-99.16805588463703!3d19.41050824653446!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1f8dbb170a3e3%3A0xbfb8e7989e9c3a3a!2sClinica%20de%20Psicolog%C3%ADa!5e0!3m2!1ses!2smx!4v1651033123888!5m2!1ses!2smx" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
		</div>
</div>
</Page>

@code {
    string name;
    string email;
    string message;

    void SendMessage()
    {
        // Configuración del servidor de correo
        SmtpClient client = new SmtpClient("smtp.example.com", 587);
        client.UseDefaultCredentials = false;
        client.Credentials = new NetworkCredential("tu_correo@example.com", "tu_contraseña");
        client.EnableSsl = true;

        // Creación del mensaje de correo electrónico
        MailMessage mailMessage = new MailMessage();
        mailMessage.From = new MailAddress("tu_correo@example.com");
        mailMessage.To.Add("destinatario@example.com");
        mailMessage.Subject = "Nuevo mensaje de la clínica de psicología";
        mailMessage.Body = "Nombre: " + name + "\n" +
                           "Correo electrónico: " + email + "\n" +
                           "Mensaje: " + message;

        // Envío del correo electrónico
        try
        {
            client.Send(mailMessage);
            // Mensaje de éxito
            //MessageBox.Show("El mensaje ha sido enviado con éxito");
        }
        catch (Exception ex)
        {
            // Mensaje de error
            //MessageBox.Show("No se pudo enviar el mensaje. Error: " + ex.Message);
        }
    }

}

